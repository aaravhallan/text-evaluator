{"ast":null,"code":"import React,{useState}from'react';import{AlertCircle,CheckCircle,XCircle,Lightbulb,FileText,Loader2,Upload}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function TextEvaluator(){const[text,setText]=useState('');const[docType,setDocType]=useState('academic-essay');const[analysis,setAnalysis]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[uploadedFile,setUploadedFile]=useState(null);const[aiDetectionResults,setAiDetectionResults]=useState(null);const[runningDetection,setRunningDetection]=useState(false);const docTypes={'academic-essay':'Academic Essay','university-essay':'University Application Essay','university-resume':'University Application Resume','cover':'Cover Letter','cv':'CV','resume':'Job Resume'};const isResumeType=['university-resume','cv','resume'].includes(docType);const handleFileUpload=async e=>{const file=e.target.files[0];if(!file)return;if(file.type!=='application/pdf'){setError('Please upload a PDF file');return;}setUploadedFile(file);setError('');setText('');};const analyzeText=async()=>{if(!text.trim()&&!uploadedFile){setError('Please enter text or upload a PDF file');return;}setLoading(true);setError('');setAnalysis(null);let systemPrompt='';if(docType==='academic-essay'){systemPrompt=\"You are an expert evaluator analyzing an ACADEMIC ESSAY (for coursework, research papers, or academic submissions).\\n\\nYour task is to provide a structured analysis with these sections:\\n\\n1. \\u2705 STRENGTHS: List 3-5 specific things that work well\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Grammar, spelling, citation issues, awkward phrasing, unclear arguments, structural problems, weak thesis statements\\n3. \\uD83D\\uDEAB AI/FLAG RISK: Identify phrases or patterns that may trigger:\\n   - AI detection systems (Turnitin AI detection, GPT detectors)\\n   - Plagiarism filters\\n   - Generic academic language that sounds templated\\n   - Overly formal or robotic prose\\n   - Lack of original analysis or critical thinking\\n   For each risk, explain WHY it's problematic and what it signals to detection systems\\n\\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Concrete, actionable improvements with before/after examples\\n\\nFocus on:\\n- Original analysis vs. regurgitated information\\n- Specific evidence vs. vague generalizations\\n- Natural academic voice vs. AI-generated formal prose\\n- Critical thinking and argumentation\\n- Proper citation and scholarly tone\";}else if(docType==='university-essay'){systemPrompt=\"You are an expert evaluator analyzing a UNIVERSITY APPLICATION ESSAY (personal statement, supplemental essay, or admissions essay).\\n\\nYour task is to provide a structured analysis with these sections:\\n\\n1. \\u2705 STRENGTHS: List 3-5 specific things that work well\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Grammar, clich\\xE9s, lack of specificity, weak storytelling, unclear personal voice\\n3. \\uD83D\\uDEAB AI/FLAG RISK & AUTO-REJECTION TRIGGERS: Identify content that may cause automatic rejection:\\n   - Generic phrases used in thousands of applications (\\\"ever since I was young\\\", \\\"I've always been passionate about\\\", \\\"this experience taught me\\\")\\n   - AI-generated patterns that admissions AI filters detect\\n   - Overly polished prose that lacks authentic teenage/young adult voice\\n   - Essays that could apply to any applicant (no personal details)\\n   - Red flag phrases that trigger plagiarism or AI detection\\n   - Lack of specific anecdotes, names, places, or personal details\\n   \\n   **CRITICAL**: For each flagged item, explain:\\n   - Why it triggers auto-rejection algorithms\\n   - What the university's AI screening system is looking for\\n   - How admissions officers would interpret this content\\n   \\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Concrete improvements to make the essay sound authentic, personal, and human. Include specific examples of how to add personal details.\\n\\nFocus on:\\n- Unique personal stories vs. generic experiences\\n- Specific details (names, places, moments) vs. vague statements\\n- Authentic teenage/young adult voice vs. overly formal or AI-polished prose\\n- Showing vs. telling\\n- Vulnerability and genuine reflection\";}else if(docType==='university-resume'){systemPrompt=\"You are an expert evaluator analyzing a UNIVERSITY APPLICATION RESUME (for college admissions, scholarships, or undergraduate applications).\\n\\nYour task is to provide a structured analysis covering BOTH content AND design:\\n\\n1. \\u2705 STRENGTHS: What works well in content and presentation\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Content problems, formatting issues, missing information, unclear descriptions\\n3. \\uD83D\\uDEAB AI/FLAG RISK & AUTO-REJECTION TRIGGERS: Identify issues that cause automatic rejection:\\n   \\n   **CONTENT FLAGS:**\\n   - Generic activity descriptions without specific achievements\\n   - Inflated or exaggerated claims\\n   - Buzzwords without substance (\\\"leadership\\\", \\\"teamwork\\\" without examples)\\n   - Missing key information (dates, hours, impact metrics)\\n   - Activities that sound fabricated or AI-generated\\n   \\n   **DESIGN/FORMAT FLAGS THAT CAUSE AUTO-REJECTION:**\\n   - Non-ATS-friendly fonts (decorative, script, or unusual fonts)\\n   - Multiple columns that confuse scanning systems\\n   - Tables, text boxes, or graphics that scanners can't read\\n   - Headers/footers that get lost in parsing\\n   - Inconsistent formatting or spacing\\n   - Colors that don't scan well or look unprofessional\\n   - Photos or images (not standard for US applications)\\n   - Unconventional section names AI can't categorize\\n   - File formatting issues (incorrect PDF encoding)\\n   \\n   **CRITICAL**: Explain what the university's AI screening system looks for and how design choices affect automated scoring.\\n   \\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Specific improvements for both content and design/formatting\\n\\nIf a PDF was uploaded, analyze its visual design, layout, formatting, and ATS-compatibility in detail.\";}else if(docType==='resume'){systemPrompt=\"You are an expert evaluator analyzing a JOB RESUME for corporate/professional applications.\\n\\nYour task is to provide a structured analysis covering BOTH content AND design:\\n\\n1. \\u2705 STRENGTHS: What works well\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Content and formatting problems\\n3. \\uD83D\\uDEAB AI/FLAG RISK & ATS AUTO-REJECTION TRIGGERS:\\n   \\n   **CONTENT FLAGS:**\\n   - Missing keywords for ATS systems\\n   - Generic descriptions without quantified achievements\\n   - Employment gaps without explanation\\n   - Overused buzzwords without substance\\n   \\n   **DESIGN/FORMAT FLAGS THAT CAUSE AUTO-REJECTION:**\\n   - Non-ATS-compatible fonts (decorative, script fonts)\\n   - Multiple columns that confuse ATS parsers\\n   - Tables, text boxes, images, or graphics\\n   - Headers/footers with critical information\\n   - Unusual section headings ATS can't parse\\n   - Colors that reduce scannability\\n   - Icons or visual elements that break parsing\\n   - Wrong file format or encoding issues\\n   \\n   Explain specifically what ATS systems look for and how design affects automated scoring.\\n   \\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Actionable improvements for content and ATS-friendly design\\n\\nIf a PDF was uploaded, provide detailed analysis of visual design and ATS compatibility.\";}else if(docType==='cv'){systemPrompt=\"You are an expert evaluator analyzing a CV (Curriculum Vitae) for academic or research positions.\\n\\nYour task is to provide a structured analysis:\\n\\n1. \\u2705 STRENGTHS: What works well\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Content gaps, formatting problems, unclear descriptions\\n3. \\uD83D\\uDEAB AI/FLAG RISK & AUTO-REJECTION TRIGGERS:\\n   \\n   **CONTENT FLAGS:**\\n   - Missing publications, research, or academic achievements\\n   - Vague research descriptions\\n   - Unexplained career gaps\\n   - Generic teaching or research statements\\n   \\n   **DESIGN/FORMAT FLAGS:**\\n   - Inconsistent formatting across sections\\n   - Poor hierarchy and readability\\n   - Missing standard CV sections\\n   - Unprofessional fonts or spacing\\n   - Design elements that look amateurish\\n   \\n   For academic systems that scan CVs, explain what triggers rejection.\\n   \\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Improvements for academic positioning and formatting\\n\\nIf a PDF was uploaded, analyze the visual presentation and academic professionalism.\";}else if(docType==='cover'){systemPrompt=\"You are an expert evaluator analyzing a COVER LETTER for job applications.\\n\\nYour task is to provide a structured analysis:\\n\\n1. \\u2705 STRENGTHS: What works well\\n2. \\u26A0\\uFE0F DETECTED ISSUES: Grammar, weak opening, generic content, poor structure\\n3. \\uD83D\\uDEAB AI/FLAG RISK: Identify phrases that trigger:\\n   - AI detection (overly formal, templated language)\\n   - Generic phrases used in thousands of letters\\n   - Lack of company-specific research\\n   - Missing personal voice or enthusiasm\\n   - Buzzwords without backing evidence\\n   \\n   Explain why these trigger rejection and how hiring managers interpret them.\\n   \\n4. \\uD83D\\uDCA1 FIX SUGGESTIONS: Concrete improvements with examples\\n\\nFocus on authentic voice, company-specific details, and genuine enthusiasm.\";}try{let messageContent;if(uploadedFile){const base64Data=await new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=()=>resolve(reader.result.split(',')[1]);reader.onerror=()=>reject(new Error('Failed to read file'));reader.readAsDataURL(uploadedFile);});messageContent=[{type:'document',source:{type:'base64',media_type:'application/pdf',data:base64Data}},{type:'text',text:\"\".concat(systemPrompt,\"\\n\\nAnalyze this \").concat(docTypes[docType],\". Pay special attention to design, formatting, layout, fonts, colors, spacing, and ATS compatibility. Describe what you see visually and explain how these design choices affect automated screening systems.\")}];// Extract text for later use\nconst extractResponse=await fetch('/api/claude',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:2000,messages:[{role:'user',content:[{type:'document',source:{type:'base64',media_type:'application/pdf',data:base64Data}},{type:'text',text:'Extract all the text content from this document. Return only the text, no analysis or commentary.'}]}]})});const extractData=await extractResponse.json();if(extractData.content&&extractData.content[0]){// Store for potential AI detection later\n}}else{messageContent=\"\".concat(systemPrompt,\"\\n\\nAnalyze this \").concat(docTypes[docType],\":\\n\\n\").concat(text);}const response=await fetch('/api/claude',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:4000,messages:[{role:'user',content:messageContent}]})});const data=await response.json();if(data.error){setError(\"API Error: \".concat(data.error.message||'Invalid API key or request failed'));return;}if(data.content&&data.content[0]){setAnalysis(data.content[0].text);}else{setError('Failed to get analysis. Please try again.');}}catch(err){setError('Error analyzing: '+err.message);}finally{setLoading(false);}};const runAIDetection=async()=>{if(!text.trim()&&!uploadedFile){setError('Please enter text to check for AI detection');return;}setRunningDetection(true);setError('');setAiDetectionResults(null);try{let contentToCheck=text;if(uploadedFile){const base64Data=await new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=()=>resolve(reader.result.split(',')[1]);reader.onerror=()=>reject(new Error('Failed to read file'));reader.readAsDataURL(uploadedFile);});const extractResponse=await fetch('/api/claude',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:2000,messages:[{role:'user',content:[{type:'document',source:{type:'base64',media_type:'application/pdf',data:base64Data}},{type:'text',text:'Extract all the text content from this document. Return only the text, no analysis or commentary.'}]}]})});const extractData=await extractResponse.json();if(extractData.content&&extractData.content[0]){contentToCheck=extractData.content[0].text;}}const detectionPrompt=\"You are an AI detection expert. Analyze this text and provide a detailed assessment of whether it was likely written by AI.\\n\\nCRITICAL: You must respond with ONLY a valid JSON object, no markdown formatting, no backticks, no preamble. Just pure JSON.\\n\\nAnalyze these specific aspects:\\n\\n1. **Perplexity Score (0-100)**: How predictable is the text? Lower = more AI-like\\n2. **Burstiness Score (0-100)**: Variation in sentence structure? Lower = more AI-like  \\n3. **AI Probability (0-100)**: Overall likelihood this is AI-generated\\n4. **Specific AI Patterns Found**: List concrete examples from the text\\n5. **Human Indicators**: What suggests human authorship\\n6. **Verdict**: \\\"Likely AI\\\", \\\"Possibly AI\\\", \\\"Likely Human\\\", or \\\"Definitely Human\\\"\\n\\nRespond with this exact JSON structure:\\n{\\n  \\\"perplexity_score\\\": <number 0-100>,\\n  \\\"burstiness_score\\\": <number 0-100>,\\n  \\\"ai_probability\\\": <number 0-100>,\\n  \\\"ai_patterns\\\": [\\\"pattern 1\\\", \\\"pattern 2\\\", ...],\\n  \\\"human_indicators\\\": [\\\"indicator 1\\\", \\\"indicator 2\\\", ...],\\n  \\\"verdict\\\": \\\"<verdict>\\\",\\n  \\\"explanation\\\": \\\"<2-3 sentence explanation>\\\",\\n  \\\"detector_name\\\": \\\"Claude AI Analysis\\\"\\n}\\n\\nText to analyze:\\n\\n\".concat(contentToCheck);const response=await fetch('/api/claude',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:2000,messages:[{role:'user',content:detectionPrompt}]})});const data=await response.json();if(data.error){setError(\"API Error: \".concat(data.error.message||'Detection failed'));return;}if(data.content&&data.content[0]){const responseText=data.content[0].text;const cleanedText=responseText.replace(/```json\\n?/g,'').replace(/```\\n?/g,'').trim();try{const detectionResult=JSON.parse(cleanedText);setAiDetectionResults([detectionResult]);}catch(parseError){setError('Failed to parse AI detection results. Please try again.');console.error('Parse error:',parseError,'Response:',cleanedText);}}}catch(err){setError('Error running AI detection: '+err.message);console.error('Detection error:',err);}finally{setRunningDetection(false);}};const getScoreColor=score=>{if(score>=70)return'text-green-600';if(score>=40)return'text-yellow-600';return'text-red-600';};const getScoreBg=score=>{if(score>=70)return'bg-green-100';if(score>=40)return'bg-yellow-100';return'bg-red-100';};const getVerdictColor=verdict=>{if(verdict.includes('Human'))return'text-green-700 bg-green-100';if(verdict.includes('Possibly'))return'text-yellow-700 bg-yellow-100';return'text-red-700 bg-red-100';};const formatAnalysis=text=>{if(!text)return null;const sections=[];const lines=text.split('\\n');let currentSection=null;let currentContent=[];lines.forEach(line=>{if(line.includes('‚úÖ')||line.includes('STRENGTHS')){if(currentSection){sections.push({type:currentSection,content:currentContent.join('\\n')});}currentSection='strengths';currentContent=[];}else if(line.includes('‚ö†Ô∏è')||line.includes('DETECTED ISSUES')){if(currentSection){sections.push({type:currentSection,content:currentContent.join('\\n')});}currentSection='issues';currentContent=[];}else if(line.includes('üö´')||line.includes('AI/FLAG RISK')||line.includes('AUTO-REJECTION')){if(currentSection){sections.push({type:currentSection,content:currentContent.join('\\n')});}currentSection='risks';currentContent=[];}else if(line.includes('üí°')||line.includes('FIX SUGGESTIONS')){if(currentSection){sections.push({type:currentSection,content:currentContent.join('\\n')});}currentSection='fixes';currentContent=[];}else{currentContent.push(line);}});if(currentSection){sections.push({type:currentSection,content:currentContent.join('\\n')});}return sections;};const renderFormattedText=text=>{if(!text)return null;const parts=text.split(/(\\*\\*.*?\\*\\*)/g);return parts.map((part,index)=>{if(part.startsWith('**')&&part.endsWith('**')){const boldText=part.slice(2,-2);return/*#__PURE__*/_jsx(\"strong\",{className:\"font-bold text-gray-900\",children:boldText},index);}return/*#__PURE__*/_jsx(\"span\",{children:part},index);});};const getSectionIcon=type=>{switch(type){case'strengths':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-600\"});case'issues':return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-yellow-600\"});case'risks':return/*#__PURE__*/_jsx(XCircle,{className:\"w-5 h-5 text-red-600\"});case'fixes':return/*#__PURE__*/_jsx(Lightbulb,{className:\"w-5 h-5 text-blue-600\"});default:return/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5\"});}};const getSectionTitle=type=>{switch(type){case'strengths':return'‚úÖ Strengths';case'issues':return'‚ö†Ô∏è Detected Issues';case'risks':return'üö´ AI/Flag Risk & Auto-Rejection Triggers';case'fixes':return'üí° Fix Suggestions';default:return'Analysis';}};const getSectionBg=type=>{switch(type){case'strengths':return'bg-green-50 border-green-200';case'issues':return'bg-yellow-50 border-yellow-200';case'risks':return'bg-red-50 border-red-200';case'fixes':return'bg-blue-50 border-blue-200';default:return'bg-gray-50 border-gray-200';}};const sections=analysis?formatAnalysis(analysis):null;return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-16 h-16 bg-indigo-600 rounded-2xl mb-4\",children:/*#__PURE__*/_jsx(FileText,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-2\",children:\"Application Text Evaluator\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Expert analysis for university applications, job submissions, and academic essays. Detect AI flags, design issues, and avoid auto-rejections.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Document Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:docType,onChange:e=>{setDocType(e.target.value);setUploadedFile(null);setText('');setAnalysis(null);},className:\"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"academic-essay\",children:\"Academic Essay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"university-essay\",children:\"University Application Essay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"university-resume\",children:\"University Application Resume (PDF supported)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cover\",children:\"Cover Letter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cv\",children:\"CV (PDF supported)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"resume\",children:\"Job Resume (PDF supported)\"})]}),isResumeType&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-indigo-50 border border-indigo-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5 text-indigo-600 mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-indigo-900 mb-2\",children:\"Upload PDF for Design Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-indigo-700 mb-3\",children:\"Upload your PDF to get detailed feedback on formatting, layout, fonts, colors, and ATS compatibility.\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 cursor-pointer transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Choose PDF File\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"application/pdf\",onChange:handleFileUpload,className:\"hidden\"})]}),uploadedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-indigo-700\",children:[\"\\u2713 Uploaded: \",uploadedFile.name]})]})]})}),!uploadedFile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Your Text\"}),/*#__PURE__*/_jsx(\"textarea\",{value:text,onChange:e=>setText(e.target.value),placeholder:\"Paste your \".concat(docTypes[docType].toLowerCase(),\" here...\"),className:\"w-full h-64 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none font-mono text-sm\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[text.length,\" characters \\u2022 \",text.split(/\\s+/).filter(w=>w).length,\" words\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-4 gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:analyzeText,disabled:loading||!text.trim()&&!uploadedFile,className:\"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}),\"Analyzing...\"]}):'Analyze Text'}),/*#__PURE__*/_jsx(\"button\",{onClick:runAIDetection,disabled:runningDetection||!text.trim()&&!uploadedFile,className:\"px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\",children:runningDetection?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}),\"Detecting AI...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),\"AI Detection Check\"]})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\",children:error})]}),aiDetectionResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-white rounded-xl shadow-lg p-6 border-2 border-purple-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-6 h-6 text-purple-600\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"AI Detection Results\"})]}),aiDetectionResults.map((result,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 last:mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:result.detector_name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-2 rounded-full font-bold text-sm \".concat(getVerdictColor(result.verdict)),children:result.verdict})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"AI Probability\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold \".concat(getScoreColor(100-result.ai_probability)),children:[result.ai_probability,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full \".concat(getScoreBg(100-result.ai_probability)),style:{width:\"\".concat(result.ai_probability,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Perplexity Score\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold \".concat(getScoreColor(result.perplexity_score)),children:result.perplexity_score}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Higher = More Human-like\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Burstiness Score\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold \".concat(getScoreColor(result.burstiness_score)),children:result.burstiness_score}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Higher = More Varied Writing\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:\"Analysis Explanation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 text-sm\",children:result.explanation})]}),result.ai_patterns&&result.ai_patterns.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-red-900 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"w-4 h-4\"}),\"AI Patterns Detected\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1\",children:result.ai_patterns.map((pattern,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"text-red-800 text-sm\",children:pattern},i))})]}),result.human_indicators&&result.human_indicators.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-green-900 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"}),\"Human Writing Indicators\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1\",children:result.human_indicators.map((indicator,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"text-green-800 text-sm\",children:indicator},i))})]})]},idx)),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" AI detection is not 100% accurate. These results should be used as guidance, not definitive proof. Human-written text can sometimes be flagged as AI, and AI text can sometimes appear human-like.\"]})})]}),sections&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sections.map((section,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 border-2 \".concat(getSectionBg(section.type)),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[getSectionIcon(section.type),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:getSectionTitle(section.type)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed\",children:section.content.split('\\n').map((line,lineIdx)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:renderFormattedText(line)},lineIdx))})]},idx))}),!analysis&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-12 text-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:isResumeType?'Upload a PDF or paste text above and click \"Analyze Text\" to get started':'Paste your text above and click \"Analyze Text\" to get started'})]})]})});}","map":{"version":3,"names":["React","useState","AlertCircle","CheckCircle","XCircle","Lightbulb","FileText","Loader2","Upload","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TextEvaluator","text","setText","docType","setDocType","analysis","setAnalysis","loading","setLoading","error","setError","uploadedFile","setUploadedFile","aiDetectionResults","setAiDetectionResults","runningDetection","setRunningDetection","docTypes","isResumeType","includes","handleFileUpload","e","file","target","files","type","analyzeText","trim","systemPrompt","messageContent","base64Data","Promise","resolve","reject","reader","FileReader","onload","result","split","onerror","Error","readAsDataURL","source","media_type","data","concat","extractResponse","fetch","method","headers","body","JSON","stringify","model","max_tokens","messages","role","content","extractData","json","response","message","err","runAIDetection","contentToCheck","detectionPrompt","responseText","cleanedText","replace","detectionResult","parse","parseError","console","getScoreColor","score","getScoreBg","getVerdictColor","verdict","formatAnalysis","sections","lines","currentSection","currentContent","forEach","line","push","join","renderFormattedText","parts","map","part","index","startsWith","endsWith","boldText","slice","className","children","getSectionIcon","getSectionTitle","getSectionBg","value","onChange","accept","name","placeholder","toLowerCase","length","filter","w","onClick","disabled","idx","detector_name","ai_probability","style","width","perplexity_score","burstiness_score","explanation","ai_patterns","pattern","i","human_indicators","indicator","section","lineIdx"],"sources":["C:/Users/aarav/OneDrive/Desktop/GIZMO TEXT EVALUATOR/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { AlertCircle, CheckCircle, XCircle, Lightbulb, FileText, Loader2, Upload } from 'lucide-react';\r\n\r\nexport default function TextEvaluator() {\r\n  const [text, setText] = useState('');\r\n  const [docType, setDocType] = useState('academic-essay');\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n  const [aiDetectionResults, setAiDetectionResults] = useState(null);\r\n  const [runningDetection, setRunningDetection] = useState(false);\r\n\r\n  const docTypes = {\r\n    'academic-essay': 'Academic Essay',\r\n    'university-essay': 'University Application Essay',\r\n    'university-resume': 'University Application Resume',\r\n    'cover': 'Cover Letter',\r\n    'cv': 'CV',\r\n    'resume': 'Job Resume'\r\n  };\r\n\r\n  const isResumeType = ['university-resume', 'cv', 'resume'].includes(docType);\r\n\r\n  const handleFileUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (file.type !== 'application/pdf') {\r\n      setError('Please upload a PDF file');\r\n      return;\r\n    }\r\n\r\n    setUploadedFile(file);\r\n    setError('');\r\n    setText('');\r\n  };\r\n\r\n  const analyzeText = async () => {\r\n    if (!text.trim() && !uploadedFile) {\r\n      setError('Please enter text or upload a PDF file');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setAnalysis(null);\r\n\r\n    let systemPrompt = '';\r\n    \r\n    if (docType === 'academic-essay') {\r\n      systemPrompt = `You are an expert evaluator analyzing an ACADEMIC ESSAY (for coursework, research papers, or academic submissions).\r\n\r\nYour task is to provide a structured analysis with these sections:\r\n\r\n1. ‚úÖ STRENGTHS: List 3-5 specific things that work well\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Grammar, spelling, citation issues, awkward phrasing, unclear arguments, structural problems, weak thesis statements\r\n3. üö´ AI/FLAG RISK: Identify phrases or patterns that may trigger:\r\n   - AI detection systems (Turnitin AI detection, GPT detectors)\r\n   - Plagiarism filters\r\n   - Generic academic language that sounds templated\r\n   - Overly formal or robotic prose\r\n   - Lack of original analysis or critical thinking\r\n   For each risk, explain WHY it's problematic and what it signals to detection systems\r\n\r\n4. üí° FIX SUGGESTIONS: Concrete, actionable improvements with before/after examples\r\n\r\nFocus on:\r\n- Original analysis vs. regurgitated information\r\n- Specific evidence vs. vague generalizations\r\n- Natural academic voice vs. AI-generated formal prose\r\n- Critical thinking and argumentation\r\n- Proper citation and scholarly tone`;\r\n\r\n    } else if (docType === 'university-essay') {\r\n      systemPrompt = `You are an expert evaluator analyzing a UNIVERSITY APPLICATION ESSAY (personal statement, supplemental essay, or admissions essay).\r\n\r\nYour task is to provide a structured analysis with these sections:\r\n\r\n1. ‚úÖ STRENGTHS: List 3-5 specific things that work well\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Grammar, clich√©s, lack of specificity, weak storytelling, unclear personal voice\r\n3. üö´ AI/FLAG RISK & AUTO-REJECTION TRIGGERS: Identify content that may cause automatic rejection:\r\n   - Generic phrases used in thousands of applications (\"ever since I was young\", \"I've always been passionate about\", \"this experience taught me\")\r\n   - AI-generated patterns that admissions AI filters detect\r\n   - Overly polished prose that lacks authentic teenage/young adult voice\r\n   - Essays that could apply to any applicant (no personal details)\r\n   - Red flag phrases that trigger plagiarism or AI detection\r\n   - Lack of specific anecdotes, names, places, or personal details\r\n   \r\n   **CRITICAL**: For each flagged item, explain:\r\n   - Why it triggers auto-rejection algorithms\r\n   - What the university's AI screening system is looking for\r\n   - How admissions officers would interpret this content\r\n   \r\n4. üí° FIX SUGGESTIONS: Concrete improvements to make the essay sound authentic, personal, and human. Include specific examples of how to add personal details.\r\n\r\nFocus on:\r\n- Unique personal stories vs. generic experiences\r\n- Specific details (names, places, moments) vs. vague statements\r\n- Authentic teenage/young adult voice vs. overly formal or AI-polished prose\r\n- Showing vs. telling\r\n- Vulnerability and genuine reflection`;\r\n\r\n    } else if (docType === 'university-resume') {\r\n      systemPrompt = `You are an expert evaluator analyzing a UNIVERSITY APPLICATION RESUME (for college admissions, scholarships, or undergraduate applications).\r\n\r\nYour task is to provide a structured analysis covering BOTH content AND design:\r\n\r\n1. ‚úÖ STRENGTHS: What works well in content and presentation\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Content problems, formatting issues, missing information, unclear descriptions\r\n3. üö´ AI/FLAG RISK & AUTO-REJECTION TRIGGERS: Identify issues that cause automatic rejection:\r\n   \r\n   **CONTENT FLAGS:**\r\n   - Generic activity descriptions without specific achievements\r\n   - Inflated or exaggerated claims\r\n   - Buzzwords without substance (\"leadership\", \"teamwork\" without examples)\r\n   - Missing key information (dates, hours, impact metrics)\r\n   - Activities that sound fabricated or AI-generated\r\n   \r\n   **DESIGN/FORMAT FLAGS THAT CAUSE AUTO-REJECTION:**\r\n   - Non-ATS-friendly fonts (decorative, script, or unusual fonts)\r\n   - Multiple columns that confuse scanning systems\r\n   - Tables, text boxes, or graphics that scanners can't read\r\n   - Headers/footers that get lost in parsing\r\n   - Inconsistent formatting or spacing\r\n   - Colors that don't scan well or look unprofessional\r\n   - Photos or images (not standard for US applications)\r\n   - Unconventional section names AI can't categorize\r\n   - File formatting issues (incorrect PDF encoding)\r\n   \r\n   **CRITICAL**: Explain what the university's AI screening system looks for and how design choices affect automated scoring.\r\n   \r\n4. üí° FIX SUGGESTIONS: Specific improvements for both content and design/formatting\r\n\r\nIf a PDF was uploaded, analyze its visual design, layout, formatting, and ATS-compatibility in detail.`;\r\n\r\n    } else if (docType === 'resume') {\r\n      systemPrompt = `You are an expert evaluator analyzing a JOB RESUME for corporate/professional applications.\r\n\r\nYour task is to provide a structured analysis covering BOTH content AND design:\r\n\r\n1. ‚úÖ STRENGTHS: What works well\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Content and formatting problems\r\n3. üö´ AI/FLAG RISK & ATS AUTO-REJECTION TRIGGERS:\r\n   \r\n   **CONTENT FLAGS:**\r\n   - Missing keywords for ATS systems\r\n   - Generic descriptions without quantified achievements\r\n   - Employment gaps without explanation\r\n   - Overused buzzwords without substance\r\n   \r\n   **DESIGN/FORMAT FLAGS THAT CAUSE AUTO-REJECTION:**\r\n   - Non-ATS-compatible fonts (decorative, script fonts)\r\n   - Multiple columns that confuse ATS parsers\r\n   - Tables, text boxes, images, or graphics\r\n   - Headers/footers with critical information\r\n   - Unusual section headings ATS can't parse\r\n   - Colors that reduce scannability\r\n   - Icons or visual elements that break parsing\r\n   - Wrong file format or encoding issues\r\n   \r\n   Explain specifically what ATS systems look for and how design affects automated scoring.\r\n   \r\n4. üí° FIX SUGGESTIONS: Actionable improvements for content and ATS-friendly design\r\n\r\nIf a PDF was uploaded, provide detailed analysis of visual design and ATS compatibility.`;\r\n\r\n    } else if (docType === 'cv') {\r\n      systemPrompt = `You are an expert evaluator analyzing a CV (Curriculum Vitae) for academic or research positions.\r\n\r\nYour task is to provide a structured analysis:\r\n\r\n1. ‚úÖ STRENGTHS: What works well\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Content gaps, formatting problems, unclear descriptions\r\n3. üö´ AI/FLAG RISK & AUTO-REJECTION TRIGGERS:\r\n   \r\n   **CONTENT FLAGS:**\r\n   - Missing publications, research, or academic achievements\r\n   - Vague research descriptions\r\n   - Unexplained career gaps\r\n   - Generic teaching or research statements\r\n   \r\n   **DESIGN/FORMAT FLAGS:**\r\n   - Inconsistent formatting across sections\r\n   - Poor hierarchy and readability\r\n   - Missing standard CV sections\r\n   - Unprofessional fonts or spacing\r\n   - Design elements that look amateurish\r\n   \r\n   For academic systems that scan CVs, explain what triggers rejection.\r\n   \r\n4. üí° FIX SUGGESTIONS: Improvements for academic positioning and formatting\r\n\r\nIf a PDF was uploaded, analyze the visual presentation and academic professionalism.`;\r\n\r\n    } else if (docType === 'cover') {\r\n      systemPrompt = `You are an expert evaluator analyzing a COVER LETTER for job applications.\r\n\r\nYour task is to provide a structured analysis:\r\n\r\n1. ‚úÖ STRENGTHS: What works well\r\n2. ‚ö†Ô∏è DETECTED ISSUES: Grammar, weak opening, generic content, poor structure\r\n3. üö´ AI/FLAG RISK: Identify phrases that trigger:\r\n   - AI detection (overly formal, templated language)\r\n   - Generic phrases used in thousands of letters\r\n   - Lack of company-specific research\r\n   - Missing personal voice or enthusiasm\r\n   - Buzzwords without backing evidence\r\n   \r\n   Explain why these trigger rejection and how hiring managers interpret them.\r\n   \r\n4. üí° FIX SUGGESTIONS: Concrete improvements with examples\r\n\r\nFocus on authentic voice, company-specific details, and genuine enthusiasm.`;\r\n    }\r\n\r\n    try {\r\n      let messageContent;\r\n\r\n      if (uploadedFile) {\r\n        const base64Data = await new Promise((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onload = () => resolve(reader.result.split(',')[1]);\r\n          reader.onerror = () => reject(new Error('Failed to read file'));\r\n          reader.readAsDataURL(uploadedFile);\r\n        });\r\n\r\n        messageContent = [\r\n          {\r\n            type: 'document',\r\n            source: {\r\n              type: 'base64',\r\n              media_type: 'application/pdf',\r\n              data: base64Data\r\n            }\r\n          },\r\n          {\r\n            type: 'text',\r\n            text: `${systemPrompt}\\n\\nAnalyze this ${docTypes[docType]}. Pay special attention to design, formatting, layout, fonts, colors, spacing, and ATS compatibility. Describe what you see visually and explain how these design choices affect automated screening systems.`\r\n          }\r\n        ];\r\n\r\n        // Extract text for later use\r\n        const extractResponse = await fetch('/api/claude', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            model: 'claude-sonnet-4-20250514',\r\n            max_tokens: 2000,\r\n            messages: [\r\n              {\r\n                role: 'user',\r\n                content: [\r\n                  {\r\n                    type: 'document',\r\n                    source: {\r\n                      type: 'base64',\r\n                      media_type: 'application/pdf',\r\n                      data: base64Data\r\n                    }\r\n                  },\r\n                  {\r\n                    type: 'text',\r\n                    text: 'Extract all the text content from this document. Return only the text, no analysis or commentary.'\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          })\r\n        });\r\n\r\n        const extractData = await extractResponse.json();\r\n        if (extractData.content && extractData.content[0]) {\r\n          // Store for potential AI detection later\r\n        }\r\n      } else {\r\n        messageContent = `${systemPrompt}\\n\\nAnalyze this ${docTypes[docType]}:\\n\\n${text}`;\r\n      }\r\n\r\n      const response = await fetch('/api/claude', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          model: 'claude-sonnet-4-20250514',\r\n          max_tokens: 4000,\r\n          messages: [\r\n            {\r\n              role: 'user',\r\n              content: messageContent\r\n            }\r\n          ]\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.error) {\r\n        setError(`API Error: ${data.error.message || 'Invalid API key or request failed'}`);\r\n        return;\r\n      }\r\n      \r\n      if (data.content && data.content[0]) {\r\n        setAnalysis(data.content[0].text);\r\n      } else {\r\n        setError('Failed to get analysis. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      setError('Error analyzing: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const runAIDetection = async () => {\r\n    if (!text.trim() && !uploadedFile) {\r\n      setError('Please enter text to check for AI detection');\r\n      return;\r\n    }\r\n\r\n    setRunningDetection(true);\r\n    setError('');\r\n    setAiDetectionResults(null);\r\n\r\n    try {\r\n      let contentToCheck = text;\r\n\r\n      if (uploadedFile) {\r\n        const base64Data = await new Promise((resolve, reject) => {\r\n          const reader = new FileReader();\r\n          reader.onload = () => resolve(reader.result.split(',')[1]);\r\n          reader.onerror = () => reject(new Error('Failed to read file'));\r\n          reader.readAsDataURL(uploadedFile);\r\n        });\r\n\r\n        const extractResponse = await fetch('/api/claude', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            model: 'claude-sonnet-4-20250514',\r\n            max_tokens: 2000,\r\n            messages: [\r\n              {\r\n                role: 'user',\r\n                content: [\r\n                  {\r\n                    type: 'document',\r\n                    source: {\r\n                      type: 'base64',\r\n                      media_type: 'application/pdf',\r\n                      data: base64Data\r\n                    }\r\n                  },\r\n                  {\r\n                    type: 'text',\r\n                    text: 'Extract all the text content from this document. Return only the text, no analysis or commentary.'\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          })\r\n        });\r\n\r\n        const extractData = await extractResponse.json();\r\n        if (extractData.content && extractData.content[0]) {\r\n          contentToCheck = extractData.content[0].text;\r\n        }\r\n      }\r\n\r\n      const detectionPrompt = `You are an AI detection expert. Analyze this text and provide a detailed assessment of whether it was likely written by AI.\r\n\r\nCRITICAL: You must respond with ONLY a valid JSON object, no markdown formatting, no backticks, no preamble. Just pure JSON.\r\n\r\nAnalyze these specific aspects:\r\n\r\n1. **Perplexity Score (0-100)**: How predictable is the text? Lower = more AI-like\r\n2. **Burstiness Score (0-100)**: Variation in sentence structure? Lower = more AI-like  \r\n3. **AI Probability (0-100)**: Overall likelihood this is AI-generated\r\n4. **Specific AI Patterns Found**: List concrete examples from the text\r\n5. **Human Indicators**: What suggests human authorship\r\n6. **Verdict**: \"Likely AI\", \"Possibly AI\", \"Likely Human\", or \"Definitely Human\"\r\n\r\nRespond with this exact JSON structure:\r\n{\r\n  \"perplexity_score\": <number 0-100>,\r\n  \"burstiness_score\": <number 0-100>,\r\n  \"ai_probability\": <number 0-100>,\r\n  \"ai_patterns\": [\"pattern 1\", \"pattern 2\", ...],\r\n  \"human_indicators\": [\"indicator 1\", \"indicator 2\", ...],\r\n  \"verdict\": \"<verdict>\",\r\n  \"explanation\": \"<2-3 sentence explanation>\",\r\n  \"detector_name\": \"Claude AI Analysis\"\r\n}\r\n\r\nText to analyze:\r\n\r\n${contentToCheck}`;\r\n\r\n      const response = await fetch('/api/claude', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          model: 'claude-sonnet-4-20250514',\r\n          max_tokens: 2000,\r\n          messages: [\r\n            {\r\n              role: 'user',\r\n              content: detectionPrompt\r\n            }\r\n          ]\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.error) {\r\n        setError(`API Error: ${data.error.message || 'Detection failed'}`);\r\n        return;\r\n      }\r\n\r\n      if (data.content && data.content[0]) {\r\n        const responseText = data.content[0].text;\r\n        const cleanedText = responseText.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\r\n        \r\n        try {\r\n          const detectionResult = JSON.parse(cleanedText);\r\n          setAiDetectionResults([detectionResult]);\r\n        } catch (parseError) {\r\n          setError('Failed to parse AI detection results. Please try again.');\r\n          console.error('Parse error:', parseError, 'Response:', cleanedText);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError('Error running AI detection: ' + err.message);\r\n      console.error('Detection error:', err);\r\n    } finally {\r\n      setRunningDetection(false);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score) => {\r\n    if (score >= 70) return 'text-green-600';\r\n    if (score >= 40) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getScoreBg = (score) => {\r\n    if (score >= 70) return 'bg-green-100';\r\n    if (score >= 40) return 'bg-yellow-100';\r\n    return 'bg-red-100';\r\n  };\r\n\r\n  const getVerdictColor = (verdict) => {\r\n    if (verdict.includes('Human')) return 'text-green-700 bg-green-100';\r\n    if (verdict.includes('Possibly')) return 'text-yellow-700 bg-yellow-100';\r\n    return 'text-red-700 bg-red-100';\r\n  };\r\n\r\n  const formatAnalysis = (text) => {\r\n    if (!text) return null;\r\n\r\n    const sections = [];\r\n    const lines = text.split('\\n');\r\n    let currentSection = null;\r\n    let currentContent = [];\r\n\r\n    lines.forEach((line) => {\r\n      if (line.includes('‚úÖ') || line.includes('STRENGTHS')) {\r\n        if (currentSection) {\r\n          sections.push({ type: currentSection, content: currentContent.join('\\n') });\r\n        }\r\n        currentSection = 'strengths';\r\n        currentContent = [];\r\n      } else if (line.includes('‚ö†Ô∏è') || line.includes('DETECTED ISSUES')) {\r\n        if (currentSection) {\r\n          sections.push({ type: currentSection, content: currentContent.join('\\n') });\r\n        }\r\n        currentSection = 'issues';\r\n        currentContent = [];\r\n      } else if (line.includes('üö´') || line.includes('AI/FLAG RISK') || line.includes('AUTO-REJECTION')) {\r\n        if (currentSection) {\r\n          sections.push({ type: currentSection, content: currentContent.join('\\n') });\r\n        }\r\n        currentSection = 'risks';\r\n        currentContent = [];\r\n      } else if (line.includes('üí°') || line.includes('FIX SUGGESTIONS')) {\r\n        if (currentSection) {\r\n          sections.push({ type: currentSection, content: currentContent.join('\\n') });\r\n        }\r\n        currentSection = 'fixes';\r\n        currentContent = [];\r\n      } else {\r\n        currentContent.push(line);\r\n      }\r\n    });\r\n\r\n    if (currentSection) {\r\n      sections.push({ type: currentSection, content: currentContent.join('\\n') });\r\n    }\r\n\r\n    return sections;\r\n  };\r\n\r\n  const renderFormattedText = (text) => {\r\n    if (!text) return null;\r\n    \r\n    const parts = text.split(/(\\*\\*.*?\\*\\*)/g);\r\n    \r\n    return parts.map((part, index) => {\r\n      if (part.startsWith('**') && part.endsWith('**')) {\r\n        const boldText = part.slice(2, -2);\r\n        return <strong key={index} className=\"font-bold text-gray-900\">{boldText}</strong>;\r\n      }\r\n      return <span key={index}>{part}</span>;\r\n    });\r\n  };\r\n\r\n  const getSectionIcon = (type) => {\r\n    switch (type) {\r\n      case 'strengths': return <CheckCircle className=\"w-5 h-5 text-green-600\" />;\r\n      case 'issues': return <AlertCircle className=\"w-5 h-5 text-yellow-600\" />;\r\n      case 'risks': return <XCircle className=\"w-5 h-5 text-red-600\" />;\r\n      case 'fixes': return <Lightbulb className=\"w-5 h-5 text-blue-600\" />;\r\n      default: return <FileText className=\"w-5 h-5\" />;\r\n    }\r\n  };\r\n\r\n  const getSectionTitle = (type) => {\r\n    switch (type) {\r\n      case 'strengths': return '‚úÖ Strengths';\r\n      case 'issues': return '‚ö†Ô∏è Detected Issues';\r\n      case 'risks': return 'üö´ AI/Flag Risk & Auto-Rejection Triggers';\r\n      case 'fixes': return 'üí° Fix Suggestions';\r\n      default: return 'Analysis';\r\n    }\r\n  };\r\n\r\n  const getSectionBg = (type) => {\r\n    switch (type) {\r\n      case 'strengths': return 'bg-green-50 border-green-200';\r\n      case 'issues': return 'bg-yellow-50 border-yellow-200';\r\n      case 'risks': return 'bg-red-50 border-red-200';\r\n      case 'fixes': return 'bg-blue-50 border-blue-200';\r\n      default: return 'bg-gray-50 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const sections = analysis ? formatAnalysis(analysis) : null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6\">\r\n      <div className=\"max-w-5xl mx-auto\">\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-indigo-600 rounded-2xl mb-4\">\r\n            <FileText className=\"w-8 h-8 text-white\" />\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">\r\n            Application Text Evaluator\r\n          </h1>\r\n          <p className=\"text-gray-600 max-w-2xl mx-auto\">\r\n            Expert analysis for university applications, job submissions, and academic essays. \r\n            Detect AI flags, design issues, and avoid auto-rejections.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n            Document Type\r\n          </label>\r\n          <select\r\n            value={docType}\r\n            onChange={(e) => {\r\n              setDocType(e.target.value);\r\n              setUploadedFile(null);\r\n              setText('');\r\n              setAnalysis(null);\r\n            }}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n          >\r\n            <option value=\"academic-essay\">Academic Essay</option>\r\n            <option value=\"university-essay\">University Application Essay</option>\r\n            <option value=\"university-resume\">University Application Resume (PDF supported)</option>\r\n            <option value=\"cover\">Cover Letter</option>\r\n            <option value=\"cv\">CV (PDF supported)</option>\r\n            <option value=\"resume\">Job Resume (PDF supported)</option>\r\n          </select>\r\n\r\n          {isResumeType && (\r\n            <div className=\"mb-4 p-4 bg-indigo-50 border border-indigo-200 rounded-lg\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <Upload className=\"w-5 h-5 text-indigo-600 mt-1\" />\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-indigo-900 mb-2\">\r\n                    Upload PDF for Design Analysis\r\n                  </h3>\r\n                  <p className=\"text-sm text-indigo-700 mb-3\">\r\n                    Upload your PDF to get detailed feedback on formatting, layout, fonts, colors, and ATS compatibility.\r\n                  </p>\r\n                  <label className=\"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 cursor-pointer transition-colors\">\r\n                    <Upload className=\"w-4 h-4 mr-2\" />\r\n                    Choose PDF File\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"application/pdf\"\r\n                      onChange={handleFileUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                  {uploadedFile && (\r\n                    <div className=\"mt-2 text-sm text-indigo-700\">\r\n                      ‚úì Uploaded: {uploadedFile.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!uploadedFile && (\r\n            <>\r\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Your Text\r\n              </label>\r\n              <textarea\r\n                value={text}\r\n                onChange={(e) => setText(e.target.value)}\r\n                placeholder={`Paste your ${docTypes[docType].toLowerCase()} here...`}\r\n                className=\"w-full h-64 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none font-mono text-sm\"\r\n              />\r\n              \r\n              <div className=\"flex items-center justify-between mt-4\">\r\n                <span className=\"text-sm text-gray-500\">\r\n                  {text.length} characters ‚Ä¢ {text.split(/\\s+/).filter(w => w).length} words\r\n                </span>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"flex justify-end mt-4 gap-3\">\r\n            <button\r\n              onClick={analyzeText}\r\n              disabled={loading || (!text.trim() && !uploadedFile)}\r\n              className=\"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                  Analyzing...\r\n                </>\r\n              ) : (\r\n                'Analyze Text'\r\n              )}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={runAIDetection}\r\n              disabled={runningDetection || (!text.trim() && !uploadedFile)}\r\n              className=\"px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\r\n            >\r\n              {runningDetection ? (\r\n                <>\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                  Detecting AI...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <AlertCircle className=\"w-5 h-5\" />\r\n                  AI Detection Check\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {aiDetectionResults && (\r\n          <div className=\"mb-6 bg-white rounded-xl shadow-lg p-6 border-2 border-purple-200\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n              <AlertCircle className=\"w-6 h-6 text-purple-600\" />\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">\r\n                AI Detection Results\r\n              </h2>\r\n            </div>\r\n\r\n            {aiDetectionResults.map((result, idx) => (\r\n              <div key={idx} className=\"mb-6 last:mb-0\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-800\">\r\n                    {result.detector_name}\r\n                  </h3>\r\n                  <span className={`px-4 py-2 rounded-full font-bold text-sm ${getVerdictColor(result.verdict)}`}>\r\n                    {result.verdict}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">AI Probability</div>\r\n                    <div className={`text-3xl font-bold ${getScoreColor(100 - result.ai_probability)}`}>\r\n                      {result.ai_probability}%\r\n                    </div>\r\n                    <div className=\"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                      <div \r\n                        className={`h-full ${getScoreBg(100 - result.ai_probability)}`}\r\n                        style={{ width: `${result.ai_probability}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Perplexity Score</div>\r\n                    <div className={`text-3xl font-bold ${getScoreColor(result.perplexity_score)}`}>\r\n                      {result.perplexity_score}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500 mt-1\">Higher = More Human-like</div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Burstiness Score</div>\r\n                    <div className={`text-3xl font-bold ${getScoreColor(result.burstiness_score)}`}>\r\n                      {result.burstiness_score}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500 mt-1\">Higher = More Varied Writing</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n                  <h4 className=\"font-semibold text-blue-900 mb-2\">Analysis Explanation</h4>\r\n                  <p className=\"text-blue-800 text-sm\">{result.explanation}</p>\r\n                </div>\r\n\r\n                {result.ai_patterns && result.ai_patterns.length > 0 && (\r\n                  <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n                    <h4 className=\"font-semibold text-red-900 mb-2 flex items-center gap-2\">\r\n                      <XCircle className=\"w-4 h-4\" />\r\n                      AI Patterns Detected\r\n                    </h4>\r\n                    <ul className=\"list-disc list-inside space-y-1\">\r\n                      {result.ai_patterns.map((pattern, i) => (\r\n<li key={i} className=\"text-red-800 text-sm\">{pattern}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {result.human_indicators && result.human_indicators.length > 0 && (\r\n                  <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                    <h4 className=\"font-semibold text-green-900 mb-2 flex items-center gap-2\">\r\n                      <CheckCircle className=\"w-4 h-4\" />\r\n                      Human Writing Indicators\r\n                    </h4>\r\n                    <ul className=\"list-disc list-inside space-y-1\">\r\n                      {result.human_indicators.map((indicator, i) => (\r\n                        <li key={i} className=\"text-green-800 text-sm\">{indicator}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n            <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n              <p className=\"text-sm text-yellow-800\">\r\n                <strong>Note:</strong> AI detection is not 100% accurate. These results should be used as guidance, not definitive proof. \r\n                Human-written text can sometimes be flagged as AI, and AI text can sometimes appear human-like.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {sections && (\r\n          <div className=\"space-y-4\">\r\n            {sections.map((section, idx) => (\r\n              <div\r\n                key={idx}\r\n                className={`bg-white rounded-xl shadow-lg p-6 border-2 ${getSectionBg(section.type)}`}\r\n              >\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  {getSectionIcon(section.type)}\r\n                  <h2 className=\"text-xl font-bold text-gray-900\">\r\n                    {getSectionTitle(section.type)}\r\n                  </h2>\r\n                </div>\r\n                \r\n                <div className=\"prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed\">\r\n                  {section.content.split('\\n').map((line, lineIdx) => (\r\n                    <div key={lineIdx} className=\"mb-2\">\r\n                      {renderFormattedText(line)}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {!analysis && !loading && (\r\n          <div className=\"bg-white rounded-xl shadow-lg p-12 text-center\">\r\n            <FileText className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n            <p className=\"text-gray-500\">\r\n              {isResumeType \r\n                ? 'Upload a PDF or paste text above and click \"Analyze Text\" to get started'\r\n                : 'Paste your text above and click \"Analyze Text\" to get started'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}